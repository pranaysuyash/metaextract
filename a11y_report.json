[{"filePath":"/Users/pranay/Projects/metaextract/client/src/components/a11y/index.tsx","messages":[{"ruleId":null,"message":"Unused eslint-disable directive (no problems were reported from 'jsx-a11y/click-events-have-key-events' or 'jsx-a11y/no-static-element-interactions').","line":339,"column":8,"severity":1,"nodeType":null,"fix":{"range":[8598,8707],"text":" "}},{"ruleId":"jsx-a11y/click-events-have-key-events","severity":1,"message":"Visible, non-interactive elements with click handlers must have at least one keyboard listener.","line":349,"column":9,"nodeType":"JSXOpeningElement","endLine":358,"endColumn":10},{"ruleId":"@typescript-eslint/no-explicit-any","severity":1,"message":"Unexpected any. Specify a different type.","line":391,"column":9,"nodeType":"TSAnyKeyword","messageId":"unexpectedAny","endLine":391,"endColumn":12,"suggestions":[{"messageId":"suggestUnknown","fix":{"range":[10592,10595],"text":"unknown"},"desc":"Use `unknown` instead, this will force you to explicitly, and safely assert the type is correct."},{"messageId":"suggestNever","fix":{"range":[10592,10595],"text":"never"},"desc":"Use `never` instead, this is useful when instantiating generic type parameters that you don't need to know the type of."}]}],"suppressedMessages":[],"errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":1,"source":"/**\n * Accessibility Component Library - Reusable a11y patterns\n */\n\nimport React, { useState, useEffect, useRef, createContext, useContext, ReactNode } from 'react';\n\n// Skip Links Component\nexport const SkipLinks: React.FC = () => {\n  return (\n    <nav className=\"skip-links\" aria-label=\"Skip navigation\">\n      <a href=\"#main-content\" className=\"skip-link\">\n        Skip to main content\n      </a>\n      <a href=\"#main-navigation\" className=\"skip-link\">\n        Skip to navigation\n      </a>\n      <a href=\"#search\" className=\"skip-link\">\n        Skip to search\n      </a>\n    </nav>\n  );\n};\n\n// Live Region Component\ninterface LiveRegionProps {\n  children: ReactNode;\n  ariaLive?: 'polite' | 'assertive';\n  id?: string;\n}\n\nexport const LiveRegion: React.FC<LiveRegionProps> = ({ \n  children, \n  ariaLive = 'polite', \n  id \n}) => {\n  return (\n    <div\n      id={id}\n      role=\"status\"\n      aria-live={ariaLive}\n      aria-atomic=\"true\"\n      className=\"sr-only\"\n    >\n      {children}\n    </div>\n  );\n};\n\n// Focus Trap Component\ninterface FocusTrapProps {\n  children: ReactNode;\n  isActive?: boolean;\n  returnFocus?: boolean;\n}\n\nexport const FocusTrap: React.FC<FocusTrapProps> = ({ \n  children, \n  isActive = true,\n  returnFocus = true \n}) => {\n  const wrapperRef = useRef<HTMLDivElement>(null);\n  const previousActiveElement = useRef<HTMLElement | null>(null);\n\n  useEffect(() => {\n    if (!isActive) return;\n\n    previousActiveElement.current = document.activeElement as HTMLElement;\n    const focusableElements = getFocusableElements(wrapperRef.current);\n    \n    if (focusableElements.length > 0) {\n      focusableElements[0].focus();\n    }\n\n    const handleKeyDown = (e: KeyboardEvent) => {\n      if (e.key !== 'Tab') return;\n\n      const focusableElements = getFocusableElements(wrapperRef.current);\n      if (focusableElements.length === 0) return;\n\n      const firstElement = focusableElements[0];\n      const lastElement = focusableElements[focusableElements.length - 1];\n\n      if (e.shiftKey && document.activeElement === firstElement) {\n        lastElement.focus();\n        e.preventDefault();\n      } else if (!e.shiftKey && document.activeElement === lastElement) {\n        firstElement.focus();\n        e.preventDefault();\n      }\n    };\n\n    document.addEventListener('keydown', handleKeyDown);\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      if (returnFocus && previousActiveElement.current) {\n        previousActiveElement.current.focus();\n      }\n    };\n  }, [isActive, returnFocus]);\n\n  return <div ref={wrapperRef} tabIndex={-1}>{children}</div>;\n};\n\n// Helper function to get focusable elements\nfunction getFocusableElements(container: HTMLElement | null): HTMLElement[] {\n  if (!container) return [];\n  \n  return Array.from(\n    container.querySelectorAll(\n      'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n    )\n  ).filter(el => {\n    const isVisible = (el as HTMLElement).offsetWidth > 0 || (el as HTMLElement).offsetHeight > 0;\n    const isEnabled = !(el as HTMLButtonElement).disabled;\n    return isVisible && isEnabled;\n  }) as HTMLElement[];\n}\n\n// Announcer Component\ninterface AnnouncerProps {\n  children: ReactNode;\n  priority?: 'polite' | 'assertive';\n}\n\nexport const Announcer: React.FC<AnnouncerProps> = ({ children, priority = 'polite' }) => {\n  const [announcement, setAnnouncement] = useState<string | null>(null);\n  const [id] = useState(() => `announcer-${Math.random().toString(36).substr(2, 9)}`);\n\n  useEffect(() => {\n    if (children) {\n      setAnnouncement(children as string);\n      \n      // Clear announcement after a delay\n      const timer = setTimeout(() => {\n        setAnnouncement(null);\n      }, 1000);\n\n      return () => clearTimeout(timer);\n    }\n  }, [children]);\n\n  return (\n    <div\n      id={id}\n      role=\"alert\"\n      aria-live={priority}\n      aria-atomic=\"true\"\n      className=\"sr-only\"\n    >\n      {announcement}\n    </div>\n  );\n};\n\n// Accessibility Context\ninterface AccessibilityContextType {\n  reducedMotion: boolean;\n  highContrast: boolean;\n  fontSize: 'normal' | 'large' | 'larger';\n  toggleReducedMotion: () => void;\n  toggleHighContrast: () => void;\n  setFontSize: (size: 'normal' | 'large' | 'larger') => void;\n}\n\nconst AccessibilityContext = createContext<AccessibilityContextType | undefined>(undefined);\n\nexport const AccessibilityProvider: React.FC<{ children: ReactNode }> = ({ children }) => {\n  const [reducedMotion, setReducedMotion] = useState(false);\n  const [highContrast, setHighContrast] = useState(false);\n  const [fontSize, setFontSize] = useState<'normal' | 'large' | 'larger'>('normal');\n\n  useEffect(() => {\n    // Check for user preference for reduced motion\n    const mediaQuery = window.matchMedia('(prefers-reduced-motion: reduce)');\n    setReducedMotion(mediaQuery.matches);\n\n    const handleChange = (e: MediaQueryListEvent) => {\n      setReducedMotion(e.matches);\n    };\n\n    mediaQuery.addEventListener('change', handleChange);\n    return () => mediaQuery.removeEventListener('change', handleChange);\n  }, []);\n\n  const toggleReducedMotion = () => {\n    setReducedMotion(prev => !prev);\n  };\n\n  const toggleHighContrast = () => {\n    setHighContrast(prev => !prev);\n  };\n\n  const value: AccessibilityContextType = {\n    reducedMotion,\n    highContrast,\n    fontSize,\n    toggleReducedMotion,\n    toggleHighContrast,\n    setFontSize,\n  };\n\n  return (\n    <AccessibilityContext.Provider value={value}>\n      <div \n        className={`\n          ${highContrast ? 'high-contrast' : ''}\n          ${fontSize === 'large' ? 'font-size-large' : ''}\n          ${fontSize === 'larger' ? 'font-size-larger' : ''}\n          ${reducedMotion ? 'reduced-motion' : ''}\n        `}\n      >\n        {children}\n      </div>\n    </AccessibilityContext.Provider>\n  );\n};\n\nexport const useAccessibility = () => {\n  const context = useContext(AccessibilityContext);\n  if (!context) {\n    throw new Error('useAccessibility must be used within AccessibilityProvider');\n  }\n  return context;\n};\n\n// Accessible Button Component\ninterface AccessibleButtonProps {\n  children: ReactNode;\n  onClick: () => void;\n  variant?: 'primary' | 'secondary' | 'outline';\n  disabled?: boolean;\n  ariaLabel?: string;\n  className?: string;\n}\n\nexport const AccessibleButton: React.FC<AccessibleButtonProps> = ({\n  children,\n  onClick,\n  variant = 'primary',\n  disabled = false,\n  ariaLabel,\n  className = ''\n}) => {\n  const handleClick = () => {\n    if (!disabled) {\n      onClick();\n    }\n  };\n\n  const handleKeyDown = (e: React.KeyboardEvent) => {\n    if (e.key === 'Enter' || e.key === ' ') {\n      e.preventDefault();\n      if (!disabled) {\n        onClick();\n      }\n    }\n  };\n\n  const variantClasses = {\n    primary: 'bg-blue-600 hover:bg-blue-700 text-white',\n    secondary: 'bg-gray-600 hover:bg-gray-700 text-white',\n    outline: 'border border-gray-600 hover:bg-gray-100 dark:hover:bg-gray-700 text-gray-700 dark:text-gray-200'\n  };\n\n  const disabledClasses = disabled \n    ? 'opacity-50 cursor-not-allowed' \n    : 'cursor-pointer';\n\n  return (\n    <button\n      onClick={handleClick}\n      onKeyDown={handleKeyDown}\n      disabled={disabled}\n      aria-label={ariaLabel}\n      aria-disabled={disabled}\n      tabIndex={disabled ? -1 : 0}\n      className={`\n        px-4 py-2 rounded-md font-medium transition-colors\n        ${variantClasses[variant]} \n        ${disabledClasses} \n        ${className}\n      `}\n    >\n      {children}\n    </button>\n  );\n};\n\n// Accessible Modal Component\ninterface AccessibleModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n  title: string;\n  children: ReactNode;\n  ariaLabel?: string;\n}\n\nexport const AccessibleModal: React.FC<AccessibleModalProps> = ({\n  isOpen,\n  onClose,\n  title,\n  children,\n  ariaLabel\n}) => {\n  const modalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (isOpen && modalRef.current) {\n      // Focus the modal when it opens\n      modalRef.current.focus();\n    }\n  }, [isOpen]);\n\n  useEffect(() => {\n    if (isOpen) {\n      // Prevent background scrolling\n      document.body.style.overflow = 'hidden';\n      \n      // Handle escape key\n      const handleEscape = (e: KeyboardEvent) => {\n        if (e.key === 'Escape') {\n          onClose();\n        }\n      };\n      \n      document.addEventListener('keydown', handleEscape);\n      return () => {\n        document.removeEventListener('keydown', handleEscape);\n        document.body.style.overflow = '';\n      };\n    }\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return (\n    <FocusTrap isActive={isOpen}>\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions */}\n      <div\n        className=\"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black bg-opacity-50\"\n        role=\"button\"\n        tabIndex={0}\n        aria-label=\"Close modal\"\n        onKeyDown={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); onClose(); } }}\n        onKeyUp={(e) => { if (e.key === 'Enter' || e.key === ' ') { e.preventDefault(); onClose(); } }}\n        onClick={onClose}\n      >\n        <div\n          ref={modalRef}\n          role=\"dialog\"\n          aria-modal=\"true\"\n          aria-labelledby={ariaLabel ? undefined : \"modal-title\"}\n          aria-describedby=\"modal-description\"\n          tabIndex={-1}\n          className=\"bg-white dark:bg-gray-800 rounded-lg shadow-xl w-full max-w-md\"\n          onClick={e => e.stopPropagation()}\n        >\n          <div className=\"p-6\">\n            <div className=\"flex justify-between items-center mb-4\">\n              <h2 \n                id=\"modal-title\"\n                className=\"text-xl font-bold text-gray-900 dark:text-white\"\n              >\n                {title}\n              </h2>\n              <button\n                onClick={onClose}\n                aria-label=\"Close modal\"\n                className=\"text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200\"\n              >\n                <span className=\"sr-only\">Close</span>\n                <svg className=\"w-6 h-6\" fill=\"none\" stroke=\"currentColor\" viewBox=\"0 0 24 24\">\n                  <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n                </svg>\n              </button>\n            </div>\n            <div id=\"modal-description\">\n              {children}\n            </div>\n          </div>\n        </div>\n      </div>\n    </FocusTrap>\n  );\n};\n\n// Accessible Table Component\ninterface AccessibleTableProps {\n  headers: string[];\n  data: any[][];\n  caption?: string;\n  className?: string;\n}\n\nexport const AccessibleTable: React.FC<AccessibleTableProps> = ({\n  headers,\n  data,\n  caption,\n  className = ''\n}) => {\n  return (\n    <div className=\"overflow-x-auto\">\n      <table className={`min-w-full divide-y divide-gray-200 dark:divide-gray-700 ${className}`}>\n        {caption && (\n          <caption className=\"sr-only\">\n            {caption}\n          </caption>\n        )}\n        <thead className=\"bg-gray-50 dark:bg-gray-700\">\n          <tr>\n            {headers.map((header, index) => (\n              <th\n                key={index}\n                scope=\"col\"\n                className=\"px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider\"\n              >\n                {header}\n              </th>\n            ))}\n          </tr>\n        </thead>\n        <tbody className=\"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700\">\n          {data.map((row, rowIndex) => (\n            <tr key={rowIndex} className={rowIndex % 2 === 0 ? 'bg-white dark:bg-gray-800' : 'bg-gray-50 dark:bg-gray-700'}>\n              {row.map((cell, cellIndex) => (\n                <td\n                  key={cellIndex}\n                  className=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-300\"\n                >\n                  {cell}\n                </td>\n              ))}\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n};\n\n// Accessible Form Components\ninterface AccessibleInputProps {\n  id: string;\n  label: string;\n  type?: string;\n  value: string;\n  onChange: (value: string) => void;\n  error?: string;\n  required?: boolean;\n  className?: string;\n}\n\nexport const AccessibleInput: React.FC<AccessibleInputProps> = ({\n  id,\n  label,\n  type = 'text',\n  value,\n  onChange,\n  error,\n  required = false,\n  className = ''\n}) => {\n  return (\n    <div className=\"mb-4\">\n      <label\n        htmlFor={id}\n        className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n      >\n        {label} {required && <span className=\"text-red-500\">*</span>}\n      </label>\n      <input\n        id={id}\n        type={type}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        required={required}\n        aria-invalid={!!error}\n        aria-describedby={error ? `${id}-error` : undefined}\n        className={`\n          w-full px-3 py-2 border rounded-md shadow-sm\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n          ${error ? 'border-red-500' : 'border-gray-300 dark:border-gray-600'}\n          ${className}\n        `}\n      />\n      {error && (\n        <p id={`${id}-error`} className=\"mt-1 text-sm text-red-600\">\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\n// Accessible Select Component\ninterface AccessibleSelectProps {\n  id: string;\n  label: string;\n  value: string;\n  onChange: (value: string) => void;\n  options: { value: string; label: string }[];\n  error?: string;\n  required?: boolean;\n}\n\nexport const AccessibleSelect: React.FC<AccessibleSelectProps> = ({\n  id,\n  label,\n  value,\n  onChange,\n  options,\n  error,\n  required = false\n}) => {\n  return (\n    <div className=\"mb-4\">\n      <label\n        htmlFor={id}\n        className=\"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1\"\n      >\n        {label} {required && <span className=\"text-red-500\">*</span>}\n      </label>\n      <select\n        id={id}\n        value={value}\n        onChange={(e) => onChange(e.target.value)}\n        required={required}\n        aria-invalid={!!error}\n        aria-describedby={error ? `${id}-error` : undefined}\n        className={`\n          w-full px-3 py-2 border rounded-md shadow-sm\n          focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500\n          ${error ? 'border-red-500' : 'border-gray-300 dark:border-gray-600'}\n        `}\n      >\n        {options.map(option => (\n          <option key={option.value} value={option.value}>\n            {option.label}\n          </option>\n        ))}\n      </select>\n      {error && (\n        <p id={`${id}-error`} className=\"mt-1 text-sm text-red-600\">\n          {error}\n        </p>\n      )}\n    </div>\n  );\n};\n\n// Accessible Checkbox Component\ninterface AccessibleCheckboxProps {\n  id: string;\n  label: string;\n  checked: boolean;\n  onChange: (checked: boolean) => void;\n  error?: string;\n  required?: boolean;\n}\n\nexport const AccessibleCheckbox: React.FC<AccessibleCheckboxProps> = ({\n  id,\n  label,\n  checked,\n  onChange,\n  error,\n  required = false\n}) => {\n  return (\n    <div className=\"flex items-start mb-4\">\n      <div className=\"flex items-center h-5\">\n        <input\n          id={id}\n          type=\"checkbox\"\n          checked={checked}\n          onChange={(e) => onChange(e.target.checked)}\n          required={required}\n          aria-invalid={!!error}\n          aria-describedby={error ? `${id}-error` : undefined}\n          className=\"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded\"\n        />\n      </div>\n      <div className=\"ml-3 text-sm\">\n        <label\n          htmlFor={id}\n          className=\"font-medium text-gray-700 dark:text-gray-300\"\n        >\n          {label} {required && <span className=\"text-red-500\">*</span>}\n        </label>\n        {error && (\n          <p id={`${id}-error`} className=\"text-red-600\">\n            {error}\n          </p>\n        )}\n      </div>\n    </div>\n  );\n};","usedDeprecatedRules":[]}]