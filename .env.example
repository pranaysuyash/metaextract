# MetaExtract Environment Configuration
# Copy this to .env and fill in your values

# =============================================================================
# Database Configuration
# =============================================================================
# For local development with SQLite (default)
# DATABASE_URL=file:./metaextract.db

# For PostgreSQL (production/Neon/Supabase)
DATABASE_URL=postgresql://user:password@host:5432/metaextract

# =============================================================================
# DodoPayments Configuration
# =============================================================================
# Get these from https://app.dodopayments.com/developers

# API Key (required for payments)
DODO_PAYMENTS_API_KEY=

# Webhook Secret (from Dodo dashboard when you create a webhook)
DODO_WEBHOOK_SECRET=

# Environment: 'test' or 'live'
DODO_ENV=test

# =============================================================================
# Redis Configuration (required for rate limiting)
# =============================================================================
# Get this from your Redis provider (Railway, Redis Cloud, Upstash, etc.)
# Format: redis://username:password@host:port
# For local development: redis://localhost:6379
REDIS_URL=

# =============================================================================
# DodoPayments Product IDs
# =============================================================================
# Subscriptions
DODO_PRODUCT_STARTER=pdt_0NV8f7BHv56aq5nVIdg3Y
DODO_PRODUCT_PREMIUM=pdt_0NV8fLqUtlChurxFwXlKB

# Credit Packs (one-time payments)
DODO_PRODUCT_CREDITS_SINGLE=pdt_0NV8hiVHeqx1npWvjaXwt
DODO_PRODUCT_CREDITS_BATCH=pdt_0NV8hnJ3qBd0dUHEbQRw9
DODO_PRODUCT_CREDITS_BULK=pdt_0NV8hsCRYsFDHaVGPITwa

# =============================================================================
# SECURITY CONFIGURATION - CRITICAL FOR PRODUCTION
# =============================================================================

# JWT Secret (required for authentication tokens)
# Generate with: openssl rand -hex 32
JWT_SECRET=your-jwt-secret-must-be-at-least-32-characters-here

# Token Secret (required for client quota tokens)
# Generate with: openssl rand -hex 32
# This is used to sign client device tokens for free quota enforcement
TOKEN_SECRET=your-token-secret-must-be-at-least-32-characters-here

# Admin API Key (required for admin endpoints)
# Generate with: openssl rand -hex 32
# Used for programmatic admin access via X-Admin-API-Key header
ADMIN_API_KEY=your-admin-api-key-here

# CSRF Secret (required for CSRF protection)
# Generate with: openssl rand -hex 32
# Used to sign CSRF tokens for state-changing operations
CSRF_SECRET=your-csrf-secret-here

# =============================================================================
# Enhanced Protection (Threat Intelligence + Challenges)
# =============================================================================
# Enable modes: off | monitor | enforce
ENHANCED_PROTECTION_MODE=monitor

# External threat intelligence providers (optional but recommended)
ABUSEIPDB_API_KEY=
VIRUSTOTAL_API_KEY=
IPQUALITY_API_KEY=

# reCAPTCHA (optional, used for challenge flows)
RECAPTCHA_SITE_KEY=

# =============================================================================
# Application Configuration
# =============================================================================
# Base URL (auto-detected on Railway/Replit, set manually otherwise)
# BASE_URL=https://metaextract.yourdomain.com

# Node environment
NODE_ENV=development

# =============================================================================
# Platform-Specific (usually auto-set)
# =============================================================================
# REPLIT_DEV_DOMAIN=
# RAILWAY_PUBLIC_DOMAIN=
