# MetaExtract Production Deployment Configuration

# Application Settings
APP_NAME=metaextract
APP_VERSION=4.0.0
NODE_ENV=production
HOST=0.0.0.0
PORT=3000

# Database Configuration (dev/prod override with real secrets)
DATABASE_URL=postgresql://pranay@localhost:5432/metaextract
STORAGE_REQUIRE_DATABASE=true
DB_SSL_MODE=prefer
DB_POOL_SIZE=20
DB_STATEMENT_TIMEOUT=30000

# Redis Configuration (for caching and session storage)
REDIS_URL=redis://localhost:6379
REDIS_TLS_URL= # Use this for TLS connections

# Security Configuration
TOKEN_SECRET=your-super-secure-random-jwt-secret-here-at-least-32-characters-for-development

# File Upload Limits
MAX_FILE_SIZE=2000000000  # 2GB in bytes
UPLOAD_DIR=/tmp/metaextract_uploads
TEMP_DIR=/tmp

# Security Settings
JWT_SECRET=your-super-secure-random-jwt-secret-here-at-least-32-characters-for-development
TOKEN_SECRET=your-super-secure-random-token-secret-here-at-least-32-characters-for-development
JWT_EXPIRES_IN=24h
RATE_LIMIT_WINDOW_MS=900000  # 15 minutes
RATE_LIMIT_MAX=100  # requests per window

# API Keys and External Services
DODO_PAYMENTS_API_KEY=Vlf8o6TJjXhRTMma.bkQDrhbAVjICkD0dfRyxtNoX-X7mzIvddk0s8NZgyCtFpa6u
DOOD_API_KEY=Vlf8o6TJjXhRTMma.bkQDrhbAVjICkD0dfRyxtNoX-X7mzIvddk0s8NZgyCtFpa6u
DODO_ENV=test
DODO_PRODUCT_IMAGES_STARTER=pdt_0NVggYNCK9SUPkDIweP6J
DODO_PRODUCT_IMAGES_PRO=pdt_0NVggezPHtcIRmmpv9hyS
STRIPE_SECRET_KEY= # Set this in environment
STRIPE_WEBHOOK_SECRET= # Set this in environment

# Feature Flags
ENABLE_MONITORING=true
ENABLE_ALERTING=true
ENABLE_ANALYTICS=true
ENABLE_CACHING=true
ENABLE_SECURITY=true
ENABLE_BATCH_PROCESSING=true

# Security Configuration
SECURITY_LEVEL=standard  # basic, standard, strict, paranoid
SECURITY_MAX_FILE_SIZE=52428800  # 50MB in bytes for strict mode
SECURITY_DANGEROUS_EXTENSIONS=.exe,.scr,.bat,.cmd,.com,.pif,.lnk,.inf,.reg,.vbs,.vbe,.js,.jse,.wsf,.wsh,.msi,.msp,.hta,.cpl,.ocx,.dll,.sys,.bin,.elf

# Performance Settings
MAX_WORKERS=4
BATCH_CHUNK_SIZE=10
CACHE_MAX_SIZE=1000
CACHE_TTL=3600  # 1 hour

# Logging Configuration
LOG_LEVEL=info
LOG_FORMAT=json
LOG_PRETTY_PRINT=false

# External Dependencies
FFMPEG_PATH=/usr/bin/ffmpeg
EXIFTOOL_PATH=/usr/bin/exiftool
MAGIC_FILE_PATH= # Path to magic file if needed

# Email Configuration (for alerts)
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD= # Set this in environment
EMAIL_FROM=noreply@metaextract.com

# AWS S3 Configuration (for file storage)
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
AWS_REGION=us-east-1
S3_BUCKET_NAME=

# Monitoring and Alerting
MONITORING_INTERVAL=60  # seconds
ALERT_HIGH_ERROR_THRESHOLD=0.1  # 10% error rate
ALERT_SLOW_PROCESSING_THRESHOLD=5000  # 5 seconds
ALERT_LOW_THROUGHPUT_THRESHOLD=1  # 1 request per minute

# Analytics Configuration
ANALYTICS_RETENTION_DAYS=30
ANALYTICS_SAMPLE_RATE=1.0  # 100% sampling
PYTHON_EXECUTABLE=/Users/pranay/Projects/metaextract/.venv/bin/python3
